<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Trishika | Luxury Celebration</title>
    <style>
        :root {
            --gold: #d4af37;
            --dark-gold: #996515;
            --bg-black: #0a0a0a;
            --soft-red: #ff4d4d;
            --glass: rgba(255, 255, 255, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Playfair Display', serif; }
        body { background: var(--bg-black); color: white; overflow-x: hidden; scroll-behavior: smooth; }

        /* Helpers */
        .hidden { display: none !important; }
        .flex-center { display: flex; justify-content: center; align-items: center; flex-direction: column; }

        /* Section Styling */
        section { min-height: 100vh; width: 100%; position: relative; overflow: hidden; padding: 40px 20px; }

        /* Intro Screen */
        #intro-screen {
            background: radial-gradient(circle, #1a1a1a 0%, #000 100%);
            z-index: 1000;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            transition: opacity 1s ease;
        }

        .heart-3d-container {
            perspective: 1000px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .heart-3d {
            width: 150px;
            height: 150px;
            background-color: var(--soft-red);
            position: relative;
            transform-style: preserve-3d;
            animation: beat 1.2s infinite ease-in-out, rotate3d 10s infinite linear;
            box-shadow: 0 0 50px var(--soft-red);
        }

        .heart-3d::before, .heart-3d::after {
            content: '';
            position: absolute;
            width: 150px;
            height: 150px;
            background-color: inherit;
            border-radius: 50%;
        }

        .heart-3d::before { top: -75px; left: 0; }
        .heart-3d::after { left: -75px; top: 0; }
        .heart-3d-inner { transform: rotate(-45deg); width: 150px; height: 150px; background: inherit; }

        @keyframes beat {
            0%, 100% { transform: scale(1) rotate(-45deg); }
            50% { transform: scale(1.1) rotate(-45deg); filter: brightness(1.2); }
        }

        @keyframes rotate3d {
            from { transform: rotateY(0deg) rotateX(0deg) rotate(-45deg); }
            to { transform: rotateY(360deg) rotateX(360deg) rotate(-45deg); }
        }

        /* Particles */
        canvas#particles { position: absolute; top: 0; left: 0; pointer-events: none; }

        /* Typography */
        .gold-text {
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            font-weight: bold;
            text-transform: uppercase;
        }

        .welcome-msg { font-size: 1.5rem; margin-top: 30px; opacity: 0; text-align: center; line-height: 1.6; }
        .btn-luxury {
            margin-top: 30px;
            padding: 15px 40px;
            background: transparent;
            border: 2px solid var(--gold);
            color: var(--gold);
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: 0.3s;
            border-radius: 50px;
            font-weight: bold;
        }
        .btn-luxury:hover { background: var(--gold); color: black; box-shadow: 0 0 20px var(--gold); }

        /* 1. Grand Name Reveal */
        .crown { font-size: 4rem; margin-bottom: 10px; animation: float 3s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

        /* 2. Typewriter */
        #typewriter-box { height: 100px; font-style: italic; color: #eee; font-size: 1.2rem; max-width: 80%; text-align: center; }

        /* 3. Video Cards */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            padding: 20px;
        }
        .video-card {
            background: var(--glass);
            border: 1px solid var(--gold);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            height: 400px;
        }
        video { width: 100%; height: 100%; object-fit: cover; }

        /* 4. Photo Palace */
        #photo-palace-img {
            width: 300px;
            height: 400px;
            object-fit: cover;
            border: 8px solid white;
            outline: 2px solid var(--gold);
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            transition: 0.5s;
            cursor: pointer;
        }

        /* 5. Shayari Cards */
        .card-container { display: flex; overflow-x: auto; gap: 20px; width: 100%; padding: 20px; scroll-snap-type: x mandatory; }
        .wish-card {
            min-width: 300px;
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            padding: 40px 20px;
            border-radius: 20px;
            border-bottom: 4px solid var(--gold);
            text-align: center;
            scroll-snap-align: center;
        }

        /* 6. Cake Section */
        .cake-container { position: relative; margin: 50px 0; }
        .cake { width: 200px; height: 120px; background: #4d2d18; border-radius: 10px 10px 0 0; position: relative; }
        .cake::before { content: ''; position: absolute; top: -10px; left: 0; width: 100%; height: 40px; background: #f0e68c; border-radius: 50%; }
        .candle { width: 10px; height: 40px; background: orange; position: absolute; top: -45px; left: 95px; }
        .flame { width: 15px; height: 25px; background: yellow; border-radius: 50%; position: absolute; top: -25px; left: -2.5px; box-shadow: 0 0 10px orange; }
        .slice { position: absolute; width: 50px; height: 50px; background: #4d2d18; right: -60px; top: 20px; display: none; transform: rotate(20deg); border: 2px solid var(--gold); }

        /* 7. Gift Section */
        .gift-box { width: 100px; height: 100px; background: var(--gold); position: relative; cursor: pointer; margin: 20px; display: inline-block; }
        .gift-box::after { content: 'üéÅ'; font-size: 3rem; position: absolute; top: 20px; left: 20px; }
        .gift-content { display: none; padding: 10px; background: white; color: black; border-radius: 5px; margin-top: 10px; }

        /* 8. Fake Chat */
        .chat-container {
            width: 320px;
            background: #ededed;
            border-radius: 10px;
            padding: 10px;
            color: black;
            font-family: sans-serif;
        }
        .bubble { padding: 8px 12px; margin: 5px; border-radius: 10px; max-width: 80%; font-size: 0.9rem; }
        .sent { background: #dcf8c6; align-self: flex-end; margin-left: auto; }
        .received { background: white; align-self: flex-start; }
        .status { font-size: 0.7rem; color: gray; text-align: right; }

        /* 9. Party Mode Overlay */
        #party-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            display: none;
            pointer-events: none;
        }

        /* 11. Instagram */
        .insta-footer { font-size: 1.2rem; color: var(--gold); margin: 40px 0; }
        .insta-link { color: white; text-decoration: none; display: block; margin: 10px 0; }

        /* 12. Final Goodbye */
        #goodbye-screen { background: black; z-index: 3000; position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: none; }
    </style>
</head>
<body>

    <audio id="bg-music" loop src="newsong.mp3"></audio>
    <audio id="broken-sfx" src="broken.mp3"></audio>

    <canvas id="particles"></canvas>

    <section id="intro-screen" class="flex-center">
        <div class="heart-3d-container" onclick="explodeHeart()">
            <div class="heart-3d">
                <div class="heart-3d-inner"></div>
            </div>
        </div>
        <div id="welcome-text" class="welcome-msg">
            <h1 class="gold-text">Trishika üíñ</h1>
            <p>Welcome to SivaSingh‚Äôs world</p>
            <p>Today is not just a birthday...</p>
            <p>It‚Äôs a celebration of YOU ‚ú®</p>
            <button class="btn-luxury" onclick="startExperience()">Start the Celebration üéâ</button>
        </div>
    </section>

    <div id="main-content" class="hidden">
        
        <section class="flex-center">
            <div class="crown">üëë</div>
            <h1 class="gold-text" style="font-size: 3.5rem;">HAPPY BIRTHDAY</h1>
            <h1 class="gold-text" style="font-size: 4.5rem;">TRISHIKA</h1>
            <p style="letter-spacing: 5px; margin-top: 10px;">MY BESTIE üíñ</p>
        </section>

        <section class="flex-center" style="background: rgba(255,255,255,0.02);">
            <div id="typewriter-box"></div>
        </section>

        <section class="flex-center">
            <h2 class="gold-text" style="margin-bottom: 30px;">Cinematic Memories</h2>
            <div class="video-grid">
                <div class="video-card"><video class="bday-vid" src="video1.mp4" loop></video></div>
                <div class="video-card"><video class="bday-vid" src="video2.mp4" loop></video></div>
                <div class="video-card"><video class="bday-vid" src="video3.mp4" loop></video></div>
                <div class="video-card"><video class="bday-vid" src="video4.mp4" loop></video></div>
            </div>
        </section>

        <section class="flex-center">
            <h2 class="gold-text" style="margin-bottom: 30px;">Memory Palace</h2>
            <img id="photo-palace-img" src="photo1.jpg" onclick="nextPhoto()" alt="Memory">
            <p style="margin-top: 20px; color: var(--gold);">Tap photo to relive memories</p>
        </section>

        <section class="flex-center">
            <h2 class="gold-text" style="margin-bottom: 30px;">From the Heart</h2>
            <div class="card-container">
                <div class="wish-card" onclick="playBrokenSfx(this)">
                    <h3>To My Soul Sister ü•Ä</h3>
                    <p>In the garden of friendship, you are the most beautiful rose. Happy Birthday Trishu!</p>
                </div>
                <div class="wish-card" onclick="playBrokenSfx(this)">
                    <h3>Humesha Saath ‚ú®</h3>
                    <p>Duniya badal jaye, par humari dosti kabhi nahi badlegi. Tu hai toh sab sahi hai.</p>
                </div>
                <div class="wish-card" onclick="playBrokenSfx(this)">
                    <h3>The One & Only üíé</h3>
                    <p>You‚Äôre not just a bestie, you‚Äôre the person I can be my true self with. Stay blessed!</p>
                </div>
            </div>
        </section>

        <section class="flex-center">
            <h2 class="gold-text">Make a Wish</h2>
            <div class="cake-container">
                <div class="candle" id="candle">
                    <div class="flame" id="flame"></div>
                </div>
                <div class="cake"></div>
                <div class="slice" id="cake-slice"></div>
            </div>
            <button class="btn-luxury" id="blow-btn" onclick="blowCandle()">Blow Candles üéÇ</button>
        </section>

        <section class="flex-center">
            <h2 class="gold-text">Surprises for You</h2>
            <div style="display: flex; flex-wrap: wrap; justify-content: center;">
                <div class="gift-box" onclick="openGift(this, 'You are the best human I know! üíñ')"></div>
                <div class="gift-box" onclick="openGift(this, 'Always keep smiling, it suits you! ‚ú®')"></div>
                <div class="gift-box" onclick="openGift(this, 'May all your dreams come true this year! üíé')"></div>
            </div>
        </section>

        <section class="flex-center">
            <div class="chat-container">
                <div style="font-weight: bold; margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">Bestie üíñ <span style="float:right; font-weight: normal; font-size: 0.7rem; color: green;">Online</span></div>
                <div class="bubble sent">Happy Birthday bestie üíñ</div>
                <div class="status">Seen ‚úî‚úî</div>
                <div class="bubble received">Thank you yaar ü•∫üíñ</div>
                <div id="typing-status" style="font-size: 0.7rem; color: gray;">Online</div>
            </div>
        </section>

        <section class="flex-center">
            <button class="btn-luxury" style="padding: 25px 60px; font-size: 1.5rem;" onclick="startParty()">Start Party Mode üéâ</button>
        </section>

        <section class="flex-center">
            <div class="insta-footer">
                <p>üì∏ Find us on Instagram</p>
                <a href="#" class="insta-link">@smss1708</a>
                <a href="#" class="insta-link">@black_its_me20</a>
            </div>
            <button class="btn-luxury" onclick="showGoodbye()">End Celebration ‚ú®</button>
        </section>
    </div>

    <div id="party-overlay"></div>

    <section id="goodbye-screen" class="flex-center">
        <h2 class="gold-text" style="font-size: 2.5rem; line-height: 1.5;">Stay the same,<br>Stay happy,<br>Stay blessed üíñ</h2>
        <h1 class="gold-text" style="font-size: 3rem; margin-top: 40px;">Happy Birthday<br>Trishika üéÇüëë</h1>
    </section>

    <script>
        const canvas = document.getElementById('particles');
        const ctx = canvas.getContext('2d');
        const bgMusic = document.getElementById('bg-music');
        const brokenSfx = document.getElementById('broken-sfx');
        const photoImg = document.getElementById('photo-palace-img');
        const videos = document.querySelectorAll('.bday-vid');
        
        let currentPhoto = 1;
        let particles = [];
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Particle System
        class Particle {
            constructor(x, y, color, size, speedX, speedY) {
                this.x = x; this.y = y; this.color = color; this.size = size;
                this.speedX = speedX; this.speedY = speedY; this.opacity = 1;
            }
            draw() {
                ctx.globalAlpha = this.opacity;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.opacity > 0.01) this.opacity -= 0.005;
            }
        }

        function createParticles(x, y, color, count = 20) {
            for (let i = 0; i < count; i++) {
                particles.push(new Particle(
                    x, y, color, 
                    Math.random() * 5 + 2, 
                    (Math.random() - 0.5) * 8, 
                    (Math.random() - 0.5) * 8
                ));
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, i) => {
                p.update();
                p.draw();
                if (p.opacity <= 0.01) particles.splice(i, 1);
            });
            requestAnimationFrame(animateParticles);
        }
        animateParticles();

        // Intro Logic
        function explodeHeart() {
            const heart = document.querySelector('.heart-3d-container');
            heart.style.transform = 'scale(0)';
            createParticles(window.innerWidth/2, window.innerHeight/2, '#ff4d4d', 100);
            createParticles(window.innerWidth/2, window.innerHeight/2, '#d4af37', 50);
            document.getElementById('welcome-text').style.opacity = '1';
            document.getElementById('welcome-text').style.transition = '2s';
        }

        function startExperience() {
            bgMusic.play();
            document.getElementById('intro-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('intro-screen').classList.add('hidden');
                document.getElementById('main-content').classList.remove('hidden');
                startTypewriter();
            }, 1000);
        }

        // Typewriter
        const texts = [
            "Tu sirf meri bestie nahi hai‚Ä¶",
            "Tu meri family jaisi hai üíñ",
            "Har khushi tere naam ho‚Ä¶",
            "Har smile tere chehre par ‚ú®",
            "Besties like you are rare‚Ä¶",
            "And priceless ü•Ä"
        ];
        let textIdx = 0;
        function startTypewriter() {
            const box = document.getElementById('typewriter-box');
            let charIdx = 0;
            box.innerHTML = "";
            let currentStr = texts[textIdx];
            
            function type() {
                if (charIdx < currentStr.length) {
                    box.innerHTML += currentStr.charAt(charIdx);
                    charIdx++;
                    setTimeout(type, 100);
                } else {
                    setTimeout(() => {
                        textIdx = (textIdx + 1) % texts.length;
                        startTypewriter();
                    }, 2000);
                }
            }
            type();
        }

        // Video Control
        videos.forEach(v => {
            v.addEventListener('play', () => {
                bgMusic.pause();
                videos.forEach(other => { if (other !== v) other.pause(); });
            });
            v.addEventListener('pause', () => {
                let anyPlaying = Array.from(videos).some(vid => !vid.paused);
                if (!anyPlaying) bgMusic.play();
            });
            v.parentElement.onclick = () => v.paused ? v.play() : v.pause();
        });

        // Photo Gallery
        function nextPhoto() {
            currentPhoto = (currentPhoto % 10) + 1;
            photoImg.style.opacity = '0';
            setTimeout(() => {
                photoImg.src = `photo${currentPhoto}.jpg`;
                photoImg.style.opacity = '1';
                createParticles(photoImg.offsetLeft + 150, photoImg.offsetTop + 200, '#d4af37', 20);
            }, 500);
        }

        // SFX Logic
        function playBrokenSfx(el) {
            brokenSfx.currentTime = 0;
            brokenSfx.play();
            const rect = el.getBoundingClientRect();
            createParticles(rect.left + rect.width/2, rect.top + rect.height/2, '#ff4d4d', 30);
        }

        // Cake Logic
        function blowCandle() {
            document.getElementById('flame').classList.add('hidden');
            document.getElementById('cake-slice').style.display = 'block';
            document.getElementById('blow-btn').innerText = "Cake Cut! üç∞";
            bgMusic.pause();
            createParticles(window.innerWidth/2, window.innerHeight/2, '#fff', 50);
            setTimeout(() => bgMusic.play(), 3000);
        }

        // Gifts
        function openGift(el, msg) {
            el.innerHTML = `<div class="gift-content">${msg}</div>`;
            el.querySelector('.gift-content').style.display = 'block';
            createParticles(el.offsetLeft + 50, el.offsetTop + 50, '#d4af37', 20);
        }

        // Party Mode
        function startParty() {
            const overlay = document.getElementById('party-overlay');
            overlay.style.display = 'block';
            let interval = setInterval(() => {
                createParticles(Math.random() * window.innerWidth, Math.random() * window.innerHeight, `hsl(${Math.random()*360}, 70%, 50%)`, 20);
            }, 200);
            setTimeout(() => {
                clearInterval(interval);
                overlay.style.display = 'none';
            }, 10000);
        }

        // Chat
        setTimeout(() => {
            document.getElementById('typing-status').innerText = "Offline";
        }, 8000);

        // Goodbye
        function showGoodbye() {
            const screen = document.getElementById('goodbye-screen');
            screen.style.display = 'flex';
            screen.style.opacity = '0';
            let op = 0;
            let timer = setInterval(() => {
                if (op >= 1) clearInterval(timer);
                screen.style.opacity = op;
                op += 0.1;
            }, 100);
            
            let fadeOut = setInterval(() => {
                if (bgMusic.volume <= 0.05) {
                    bgMusic.pause();
                    clearInterval(fadeOut);
                } else {
                    bgMusic.volume -= 0.05;
                }
            }, 200);
        }

        // Resize handler
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

    </script>
</body>
                  </html>
