<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yuvi & Punnu Jan | A Royal Promise</title>
    <style>
        /* * GLOBAL RESET & LUXURY THEME
         */
        :root {
            --bg-dark: #0b0e14;
            --gold: #FFD700;
            --gold-dim: #C5A000;
            --rose: #FF007F;
            --rose-dim: #b30059;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 215, 0, 0.2);
            --text-main: #ffffff;
            --text-secondary: #cccccc;
            --font-royal: 'Times New Roman', serif;
            --font-clean: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: var(--font-clean);
            overflow-x: hidden;
            height: 100vh;
            width: 100vw;
            position: relative;
        }

        /* SCROLLBAR HIDING */
        ::-webkit-scrollbar { width: 0px; background: transparent; }
        body { -ms-overflow-style: none; scrollbar-width: none; }

        /* CANVAS BACKGROUNDS */
        #bgCanvas, #fireworksCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        #fireworksCanvas { z-index: 999; }

        /* TYPOGRAPHY UTILS */
        .text-gold { color: var(--gold); }
        .text-rose { color: var(--rose); }
        .font-royal { font-family: var(--font-royal); letter-spacing: 1px; }
        .gradient-text {
            background: linear-gradient(45deg, var(--rose), var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* * INTRO SCREEN 
         */
        #introScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, #1a0f14 0%, #000000 100%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 1.5s ease;
        }

        #heart3DContainer {
            width: 300px;
            height: 300px;
            position: relative;
            cursor: pointer;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: floatHeart 3s ease-in-out infinite;
        }

        #heart3DContainer:active { transform: scale(0.9); }

        /* The 3D Heart is rendered via JS on a specific canvas inside this container */
        #heartCanvas {
            width: 100%;
            height: 100%;
        }

        .intro-text {
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
            margin-top: 2rem;
            pointer-events: none;
        }

        .intro-text.visible { opacity: 1; transform: translateY(0); pointer-events: all; }

        .intro-title {
            font-size: 2rem;
            font-family: var(--font-royal);
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px var(--rose-dim);
        }

        .intro-sub {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 300;
        }

        .btn-luxury {
            margin-top: 2rem;
            padding: 15px 40px;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            border: 1px solid var(--gold);
            color: var(--gold);
            font-family: var(--font-royal);
            font-size: 1.2rem;
            letter-spacing: 2px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.1);
        }

        .btn-luxury:hover {
            background: rgba(255, 215, 0, 0.1);
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.4);
            letter-spacing: 4px;
        }

        .btn-luxury::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .btn-luxury:hover::after { left: 100%; }

        /* * MAIN CONTENT 
         */
        #mainContent {
            display: none;
            opacity: 0;
            transition: opacity 1s ease;
            position: relative;
            z-index: 10;
            padding-bottom: 100px;
        }

        section {
            padding: 40px 20px;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            opacity: 0; /* Fade in on scroll logic handled via CSS/JS */
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        section.in-view { opacity: 1; transform: translateY(0); }

        /* GLASS CARD */
        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* SECTION 1: STATEMENT */
        .love-statement h2 {
            font-family: var(--font-royal);
            font-size: 1.8rem;
            line-height: 1.6;
            color: #eee;
        }

        /* SECTION 2: SHAYARI */
        .heart-shayari-container {
            position: relative;
            width: 100%;
            min-height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .big-heart-bg {
            position: absolute;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(255,0,127,0.2) 0%, transparent 70%);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .shayari-text {
            font-family: var(--font-royal);
            font-size: 1.4rem;
            color: var(--gold);
            min-height: 100px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            position: relative;
            z-index: 2;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            background-color: var(--gold);
            animation: blink 1s infinite;
        }

        /* SECTION 3: VIDEO GALLERY */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .video-card {
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            overflow: hidden;
            background: #000;
            position: relative;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* SECTION 4: PHOTOS */
        .photo-frame {
            width: 100%;
            height: 400px; /* Portrait preferred */
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            border: 2px solid var(--gold-dim);
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            cursor: pointer;
        }

        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 1s ease, filter 0.5s ease;
        }

        .photo-frame:active img { transform: scale(1.05); }

        .photo-instruction {
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* SECTION 5: FAKE CHAT */
        .chat-container {
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
            padding: 20px;
            text-align: left;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .chat-header {
            display: flex;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, var(--rose), var(--gold));
            border-radius: 50%;
            margin-right: 10px;
        }

        .user-name { font-weight: bold; font-size: 0.9rem; }
        .status { font-size: 0.7rem; color: var(--gold); }

        .msg {
            background: rgba(255, 0, 127, 0.2);
            padding: 10px 15px;
            border-radius: 15px 15px 0 15px;
            display: inline-block;
            margin-left: auto;
            max-width: 80%;
            float: right;
            clear: both;
            margin-bottom: 5px;
            border: 1px solid rgba(255, 0, 127, 0.3);
        }

        .meta {
            text-align: right;
            font-size: 0.7rem;
            color: #aaa;
            clear: both;
            margin-bottom: 10px;
        }

        /* SECTION 6: INSTAGRAM */
        .insta-link {
            display: block;
            color: var(--text-main);
            text-decoration: none;
            font-size: 1.1rem;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            transition: 0.3s;
        }
        .insta-link:hover { background: rgba(255,255,255,0.1); border-color: var(--rose); }

        /* SECTION 7: PROPOSAL */
        .proposal-section {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .ring-container {
            font-size: 4rem;
            animation: floatHeart 2s infinite ease-in-out;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 15px var(--gold));
        }

        /* ANIMATIONS */
        @keyframes floatHeart {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 0.5; }
        }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* CELEBRATION OVERLAY */
        #celebrationScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 2000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .yes-text {
            font-size: 3rem;
            font-family: var(--font-royal);
            background: linear-gradient(to right, #ff007f, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn { 0% { transform: scale(0); } 100% { transform: scale(1); } }

    </style>
</head>
<body>

    <audio id="bgMusic" loop>
        <source src="newsong.mp3" type="audio/mp3">
    </audio>

    <canvas id="bgCanvas"></canvas>
    <canvas id="fireworksCanvas"></canvas>

    <div id="introScreen">
        <div id="heart3DContainer">
            <canvas id="heartCanvas"></canvas>
        </div>
        <div class="intro-text" id="introText">
            <div class="intro-title">Welcome to Yuvi‚Äôs world üíñ</div>
            <div class="intro-sub">Where every heartbeat belongs to Punnu Jan</div>
            <button class="btn-luxury" id="enterBtn">[ Step Into My Love ‚ú® ]</button>
        </div>
    </div>

    <div id="mainContent">

        <section id="s1">
            <div class="glass-card love-statement">
                <h2>‚ÄúSome loves are not found‚Ä¶<br>They are felt.<br><span class="text-gold">And mine was always you, Punnu Jan.</span>‚Äù</h2>
            </div>
        </section>

        <section id="s2">
            <div class="heart-shayari-container">
                <div class="big-heart-bg"></div>
                <div class="glass-card" style="width: 100%; border: none; background: transparent; box-shadow: none;">
                    <div id="shayariBox" class="shayari-text"></div>
                </div>
            </div>
        </section>

        <section id="s3">
            <h3 class="font-royal text-gold" style="margin-bottom: 20px;">Our Cinematic Moments</h3>
            <div class="video-grid">
                <div class="video-card"><video src="video1.mp4" playsinline controls controlsList="nodownload"></video></div>
                <div class="video-card"><video src="video2.mp4" playsinline controls controlsList="nodownload"></video></div>
                <div class="video-card"><video src="video3.mp4" playsinline controls controlsList="nodownload"></video></div>
                <div class="video-card"><video src="video4.mp4" playsinline controls controlsList="nodownload"></video></div>
            </div>
        </section>

        <section id="s4">
            <h3 class="font-royal text-rose" style="margin-bottom: 20px;">Memories of Us</h3>
            <div class="photo-frame" id="photoFrame">
                <img id="mainPhoto" src="photo1.jpg" alt="Memory">
            </div>
            <div class="photo-instruction">Tap photo to see more...</div>
        </section>

        <section id="s5">
            <div class="glass-card chat-container">
                <div class="chat-header">
                    <div class="avatar"></div>
                    <div>
                        <div class="user-name">Punnu Jan üíñ</div>
                        <div class="status">Typing...</div>
                    </div>
                </div>
                <div style="overflow: hidden;">
                    <div class="msg">You: Punnu Jan‚Ä¶ tum meri zindagi ka sabse khoobsurat hissa ho üíñ</div>
                    <div class="meta">Seen ‚úî‚úî</div>
                    <div class="meta" style="float: left; text-align: left;">Last seen just now</div>
                </div>
            </div>
        </section>

        <section id="s6">
            <h3 class="font-royal">Follow Our Love</h3>
            <a href="https://instagram.com/smss1708" class="insta-link">üì∏ @smss1708</a>
            <a href="https://instagram.com/black_its_me20" class="insta-link">üì∏ @black_its_me20</a>
        </section>

        <section id="s7" class="proposal-section">
            <div class="ring-container">üíç</div>
            <h1 class="intro-title" style="margin-bottom: 30px;">
                Punnu Jan üíñ<br>
                <span style="font-size: 1.2rem; display:block; margin: 15px 0;">From today‚Ä¶ Tomorrow‚Ä¶ And every lifetime after‚Ä¶</span>
                <span class="gradient-text">Will you be mine forever?</span>
            </h1>
            <button class="btn-luxury" id="proposalBtn" style="border-color: var(--rose); color: var(--rose);">[ Forever Yours üíç ]</button>
        </section>

    </div>

    <div id="celebrationScreen">
        <div class="yes-text">She said YES üíñ</div>
        <div class="intro-title text-gold">Yuvi & Punnu Jan</div>
        <div style="font-size: 2rem; margin-top: 10px;">Forever ‚ôæÔ∏è</div>
    </div>

    <script>
        /* * LOGIC CONTROLLER
         */

        // --- ASSETS & VARIABLES ---
        const audio = document.getElementById('bgMusic');
        const videos = document.querySelectorAll('video');
        const introScreen = document.getElementById('introScreen');
        const introText = document.getElementById('introText');
        const heartContainer = document.getElementById('heart3DContainer');
        const enterBtn = document.getElementById('enterBtn');
        const mainContent = document.getElementById('mainContent');
        const sections = document.querySelectorAll('section');
        
        let isMusicPlaying = false;

        // --- 3D HEART CANVAS LOGIC (MATH BASED) ---
        const hCanvas = document.getElementById('heartCanvas');
        const hCtx = hCanvas.getContext('2d');
        let hWidth, hHeight;
        
        function resizeHeart() {
            hWidth = hCanvas.width = hCanvas.offsetWidth;
            hHeight = hCanvas.height = hCanvas.offsetHeight;
        }
        resizeHeart();
        
        // 3D Point class
        class Point {
            constructor(x, y, z) {
                this.x = x; this.y = y; this.z = z;
            }
        }
        
        let points = [];
        // Parametric Heart Equation
        for (let t = 0; t < Math.PI * 2; t += 0.1) {
            for (let d = 0; d < Math.PI; d += 0.1) {
                // Modified spherical heart
                let r = 10 * (1 + Math.sin(t)) * (1 - 0.5 * Math.abs(Math.cos(d))); // Simple form
                // Let's use specific x = 16sin^3t equation variation for 3D
                // x = 16sin^3(t)
                // y = 13cos(t) - 5cos(2t) - 2cos(3t) - cos(4t)
                // z = thickness
                // We create a cloud of particles
            }
        }
        
        // Generating points for a volumetric heart
        points = [];
        for (let i = 0; i < 600; i++) {
            let t = Math.random() * Math.PI * 2;
            let r = Math.random(); 
            // Heart formula 2D + depth
            let x = 16 * Math.pow(Math.sin(t), 3);
            let y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
            let z = (Math.random() - 0.5) * 10; 
            
            // Scale
            x *= 3; y *= 3; z *= 3;
            points.push(new Point(x, y, z));
        }

        let angle = 0;
        
        function drawHeart() {
            hCtx.clearRect(0, 0, hWidth, hHeight);
            let cx = hWidth / 2;
            let cy = hHeight / 2;
            
            angle += 0.01;
            let scale = 1 + Math.sin(Date.now() * 0.003) * 0.1; // Heartbeat
            
            points.forEach(p => {
                // Rotate Y
                let rx = p.x * Math.cos(angle) - p.z * Math.sin(angle);
                let rz = p.x * Math.sin(angle) + p.z * Math.cos(angle);
                let ry = p.y;
                
                // Project
                let fov = 300;
                let projScale = fov / (fov + rz + 100);
                let x2d = rx * projScale * scale + cx;
                let y2d = ry * projScale * scale + cy;
                
                // Color Gradient based on Z
                let alpha = (rz + 20) / 40; 
                if(alpha < 0.1) alpha = 0.1;
                hCtx.fillStyle = `rgba(255, ${Math.floor(50 + alpha*100)}, ${Math.floor(100 + alpha*50)}, ${alpha})`;
                hCtx.beginPath();
                hCtx.arc(x2d, y2d, 1.5 * projScale, 0, Math.PI * 2);
                hCtx.fill();
            });
            requestAnimationFrame(drawHeart);
        }
        drawHeart();

        // --- INTERACTION FLOW ---

        // 1. Click Heart -> Show Title & Button
        heartContainer.addEventListener('click', () => {
            // Flash effect
            heartContainer.style.transform = "scale(1.5) rotate(10deg)";
            setTimeout(() => {
                heartContainer.style.transform = "scale(0) opacity(0)";
                introText.classList.add('visible');
            }, 400);
        });

        // 2. Click Button -> Enter Site
        enterBtn.addEventListener('click', () => {
            audio.play().then(() => { isMusicPlaying = true; }).catch(e => console.log("Audio requires interaction"));
            introScreen.style.opacity = '0';
            setTimeout(() => {
                introScreen.style.display = 'none';
                mainContent.style.display = 'block';
                // Trigger reflow
                void mainContent.offsetWidth;
                mainContent.style.opacity = '1';
                observeSections();
                startShayari();
            }, 1000);
        });

        // --- BACKGROUND PARTICLES (Space/Rose Petals) ---
        const bgCanvas = document.getElementById('bgCanvas');
        const bgCtx = bgCanvas.getContext('2d');
        let bgW, bgH;
        let particles = [];

        function resizeBg() {
            bgW = bgCanvas.width = window.innerWidth;
            bgH = bgCanvas.height = window.innerHeight;
        }
        window.addEventListener('resize', () => { resizeBg(); resizeHeart(); });
        resizeBg();

        class Particle {
            constructor() {
                this.x = Math.random() * bgW;
                this.y = Math.random() * bgH;
                this.size = Math.random() * 2 + 0.5;
                this.speedY = Math.random() * 0.5 + 0.2;
                this.speedX = (Math.random() - 0.5) * 0.5;
                this.opacity = Math.random() * 0.5 + 0.1;
                this.color = Math.random() > 0.8 ? '255, 215, 0' : '255, 105, 180'; // Gold or Pink
            }
            update() {
                this.y += this.speedY;
                this.x += this.speedX;
                if (this.y > bgH) this.y = 0;
                if (this.x > bgW) this.x = 0;
                if (this.x < 0) this.x = bgW;
            }
            draw() {
                bgCtx.fillStyle = `rgba(${this.color}, ${this.opacity})`;
                bgCtx.beginPath();
                bgCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                bgCtx.fill();
            }
        }

        for (let i = 0; i < 100; i++) particles.push(new Particle());

        function animateBg() {
            bgCtx.clearRect(0, 0, bgW, bgH);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateBg);
        }
        animateBg();

        // --- SCROLL ANIMATION ---
        function observeSections() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                    }
                });
            }, { threshold: 0.2 });
            sections.forEach(s => observer.observe(s));
        }

        // --- SHAYARI TYPEWRITER ---
        const shayariList = [
            "ùêåùêûùê´ùê¢ ùêáùêöùê´ ùêÅùêöùêöùê≠ ùêìùêÆùê¶ùê¨ùêû",
            "Mujhe pasand ho tum, mujhse apni har baat bataya karo na,",
            "Main to jatata hoon haq apna tumpe, tum bhi thoda sa jataya karo na.",
            "Main maan lunga har baat tumhari, tum bas hukm karke bataya karo na,",
            "Koi pooche kaun hai ye ladka, to mujhe apna aur khud ko mera mehboob bataya karo na.",
            "Mujhe pasand hai tumhari muskaan, tum hamesha yun hi muskuraya karo na,",
            "Tum bahut khoobsurat ho, phir bhi thoda sa singaar lagaya karo na.",
            "Main din-raat tumhare baare mein sochta hoon‚Ä¶ kya tum bhi sochti ho?",
            "Tumhare aankhon mein yun dub jata hoon har baar‚Ä¶ mera haath pakad kar nikala karo na.",
            "Mujhe tumhara dupatta pasand hai‚Ä¶ hamesha yun hi lagaya karo na.",
            "Tumhare kaanon ke ghumke‚Ä¶ mujhe bahut pasand hain.",
            "Tumhare hothon ki laali‚Ä¶ mujhe itni achhi lagti hai."
        ];

        const shayariBox = document.getElementById('shayariBox');
        let sIdx = 0;
        let cIdx = 0;
        let isDeleting = false;
        let typeSpeed = 80;

        function startShayari() {
            const currentLine = shayariList[sIdx];
            
            if (isDeleting) {
                shayariBox.innerHTML = currentLine.substring(0, cIdx) + '<span class="cursor"></span>';
                cIdx--;
                typeSpeed = 40;
            } else {
                shayariBox.innerHTML = currentLine.substring(0, cIdx + 1) + '<span class="cursor"></span>';
                cIdx++;
                typeSpeed = 80;
            }

            if (!isDeleting && cIdx === currentLine.length) {
                isDeleting = true;
                typeSpeed = 2000; // Pause at end
            } else if (isDeleting && cIdx === 0) {
                isDeleting = false;
                sIdx = (sIdx + 1) % shayariList.length;
                typeSpeed = 500;
            }

            setTimeout(startShayari, typeSpeed);
        }

        // --- VIDEO LOGIC ---
        videos.forEach(v => {
            v.addEventListener('play', () => {
                audio.pause();
                videos.forEach(ov => { if (ov !== v) ov.pause(); });
            });
            v.addEventListener('pause', () => {
                if (![...videos].some(vid => !vid.paused)) audio.play();
            });
            v.addEventListener('ended', () => {
                audio.play();
            });
        });

        // --- PHOTO GALLERY ---
        const photos = [
            "photo1.jpg", "photo2.jpg", "photo3.jpg", "photo4.jpg", "photo5.jpg",
            "photo6.jpg", "photo7.jpg", "photo8.jpg", "photo9.jpg", "photo10.jpg"
        ];
        let pIdx = 0;
        const mainPhoto = document.getElementById('mainPhoto');
        const photoFrame = document.getElementById('photoFrame');

        photoFrame.addEventListener('click', () => {
            // Fade out
            mainPhoto.style.opacity = 0;
            setTimeout(() => {
                pIdx = (pIdx + 1) % photos.length;
                mainPhoto.src = photos[pIdx];
                // Fade in
                mainPhoto.onload = () => { mainPhoto.style.opacity = 1; };
            }, 500);
        });

        // --- PROPOSAL & FIREWORKS ---
        const propBtn = document.getElementById('proposalBtn');
        const celebration = document.getElementById('celebrationScreen');
        const fwCanvas = document.getElementById('fireworksCanvas');
        const fwCtx = fwCanvas.getContext('2d');
        fwCanvas.width = window.innerWidth;
        fwCanvas.height = window.innerHeight;

        propBtn.addEventListener('click', () => {
            celebration.style.display = 'flex';
            audio.volume = 1.0; 
            startFireworks();
        });

        // Simple Firework Logic
        let fws = [];
        class Firework {
            constructor() {
                this.x = Math.random() * fwCanvas.width;
                this.y = fwCanvas.height;
                this.targetY = Math.random() * (fwCanvas.height / 2);
                this.speed = Math.random() * 3 + 4;
                this.particles = [];
                this.exploded = false;
                this.color = `hsl(${Math.random()*360}, 100%, 50%)`;
            }
            update() {
                if (!this.exploded) {
                    this.y -= this.speed;
                    if (this.y <= this.targetY) this.explode();
                } else {
                    this.particles.forEach((p, i) => {
                        p.x += p.vx;
                        p.y += p.vy;
                        p.alpha -= 0.01;
                        if (p.alpha <= 0) this.particles.splice(i, 1);
                    });
                }
            }
            explode() {
                this.exploded = true;
                for (let i = 0; i < 50; i++) {
                    let angle = Math.random() * Math.PI * 2;
                    let speed = Math.random() * 3;
                    this.particles.push({
                        x: this.x, y: this.y,
                        vx: Math.cos(angle) * speed,
                        vy: Math.sin(angle) * speed,
                        alpha: 1
                    });
                }
            }
            draw() {
                if (!this.exploded) {
                    fwCtx.fillStyle = this.color;
                    fwCtx.beginPath();
                    fwCtx.arc(this.x, this.y, 3, 0, Math.PI * 2);
                    fwCtx.fill();
                } else {
                    this.particles.forEach(p => {
                        fwCtx.fillStyle = `rgba(255, 215, 0, ${p.alpha})`; // Gold sparks
                        fwCtx.beginPath();
                        fwCtx.arc(p.x, p.y, 2, 0, Math.PI * 2);
                        fwCtx.fill();
                    });
                }
            }
        }

        function startFireworks() {
            fws.push(new Firework());
            fwCtx.clearRect(0, 0, fwCanvas.width, fwCanvas.height);
            // Draw fake semi-transparent bg for trail effect
            fwCtx.fillStyle = 'rgba(0,0,0,0.1)';
            fwCtx.fillRect(0, 0, fwCanvas.width, fwCanvas.height);
            
            fws.forEach((f, i) => {
                f.update();
                f.draw();
                if (f.exploded && f.particles.length === 0) fws.splice(i, 1);
            });
            
            if (Math.random() < 0.05) fws.push(new Firework());
            requestAnimationFrame(startFireworks);
        }

    </script>
</body>
                                             </html>
